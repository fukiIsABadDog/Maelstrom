@page
@model Maelstrom.Areas.User.Pages.SiteManager.IndexModel
@{
    Layout = "_Layout";
}

<div class="row row-cols-1 row-cols-md-3 g-4" style="margin-top:2rem">

    @foreach(var item in Model.CurrentUserSites)
    {
        <div class="col">
            <div class="card shadow">

                @if (@Model.ImageDictionary[item.SiteID] != String.Empty)
                {
                    <img src=@Model.ImageDictionary[item.SiteID] class="card-img-top" alt="DB Image">
                }
                else
                {
                    <img src="~/media/UserImages/default.jpg" class="card-img-top" alt="Default Image">
                }
                <div class="card-body" style="background-color:floralwhite">
                    <div class="row shadow p-3 mb-1 rounded text-center">
                        <h5 class="card-title">@item.Name</h5>
                        </div>
              
                </div>
                    <table class="table table-striped table-hover"style="margin-bottom:0px">
                        <th>
                            Capacity
                        </th>
                        <th>
                            Type
                        </th>
                        <th>
                            Location
                        </th>
                        <tbody>
                        <tr>
                                <td>@item.Capacity</td>
                                <td>@Model.SiteTypeDictionary[item.SiteTypeID]</td>
                                <td>@item.Location</td>
                            </tr>

                    </table>



                <div class="card-body text-center" style="background-color:floralwhite">
                    <div class="row"> 
                    <a asp-page="/ResultManager/Create" asp-route-id="@item.SiteID" class="btn  btn-success">Add Result</a>
                    <a asp-page="./TestResults" asp-route-id="@item.SiteID" class="btn  btn-primary">All Results & Details</a>
                    <a asp-page="./Edit" asp-route-id="@item.SiteID" class="btn  btn-warning">Edit</a>
                    <a asp-page="./Delete" asp-route-id="@item.SiteID" class="btn  btn-danger">Delete</a>
                    </div>
                </div>
            </div>
        </div>
    }
    <div class="col">
        <div class="card shadow">
            <div class="card-body text-center" style="background-color:floralwhite">
                <a asp-page="./create" class="btn btn-success btn-lg">Create New</a>
            </div>
        </div></div>
</div>


















